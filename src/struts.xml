<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <package name="User" extends="struts-default" namespace="/">

        <!--定义拦截器-->
        <!--<interceptors>
            <interceptor name="loginintercept" class="cn.chan.interceptor.LoginInterceptor"></interceptor>
        </interceptors>-->


        <!--用户-->
        <action name="user*" class="cn.chan.action.UserAction" method="{1}">

            <!--使用定义拦截器-->
           <!-- <interceptor-ref name="loginintercept">

                &lt;!&ndash;忽略拦截的方法&ndash;&gt;
                <param name="excludeMethods">doLogin</param>
            </interceptor-ref>

            &lt;!&ndash; 3 把默认拦截器手动使用一次 &ndash;&gt;
            <interceptor-ref name="defaultStack"></interceptor-ref>-->


            <result name="toregist" type="redirect">/music/regist.jsp</result>
            <result name="doRegist">/music/regist.jsp</result>

            <!--登录失败跳转到登录页面-->
            <result name="toLogin">/music/login.jsp</result>

            <!--登陆成功跳转到主页-->
            <result name="doLogin" type="redirect">/music/index.jsp</result>

            <result name="allUser">/music/manager/index.jsp</result>

            <!--用户激活-->
            <result name="activation">/music/message.jsp</result>


        </action>

        <!--验证码-->
        <action name="verifyCode" class="cn.chan.action.VerifyCodeAction"></action>


        <!--歌曲-->
        <action name="song*" class="cn.chan.action.SongAction" method="{1}">

            <result name="addSong">/music/manager/index.jsp</result>

        </action>
    </package>

    
</struts>